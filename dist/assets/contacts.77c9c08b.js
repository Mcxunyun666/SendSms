import{_ as V,r as u,u as D,a as L,b as c,o as r,c as _,d,w as I,e as o,F as T,f as j,t as C,h as R,g as U,U as k,i as F,p as E,j as A}from"./index.904b712b.js";import{u as S}from"./debounce.1ad497d2.js";import{D as B}from"./dateFormat.59b572bf.js";import{a as G}from"./api.4e29743e.js";const M={name:"Contacts",components:{},props:{},setup(i){const e=u([]),h=u(!1),t=u(!1),f=u(!1),p=D();L(()=>{});const s=n=>{let m=isNaN(n)?n:"",O=isNaN(n)?"":n,x=new Date().getTime(),z={data:{name:m,phone_number:O},timestamp:x,sign:k.sisgn(x,k.sign())};F.post(G,z).then(w=>{w.data.code===200&&(e.value=w.data.data,t.value=!0)})},l=()=>{s()},v=(n,m)=>B.format(new Date(n),m),g=n=>B.getTime(n),b=()=>{t.value=!1,h.value=!0,e.value=[],s(),f.value=!1};let a=S("",800,n=>{s(n)});return{list:e,onLoad:l,loading:h,finished:t,onRefresh:b,refreshing:f,format:v,getTime:g,sendSms:n=>{let m=n.replace(/\s+/g,"");p.push(`/sms?number=${m}`)},keyword:a,useDebounced:S,getPageList:s}}},N=i=>(E("data-v-5b51acc9"),i=i(),A(),i),P={id:"contacts"},$={class:"contactsImgInfo"},q={class:"contactsinfo"},H={class:"contactsOtherBtn"},J={class:"contactsSms"},K=["href"],Q=N(()=>o("svg",{class:"icon call","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-dianhua1"})],-1)),W=[Q],X=["onClick"],Y=N(()=>o("use",{"xlink:href":"#icon-duanxin"},null,-1)),Z=[Y];function tt(i,e,h,t,f,p){const s=c("van-search"),l=c("van-image"),v=c("van-list"),g=c("van-empty"),b=c("van-pull-refresh");return r(),_("div",P,[d(s,{modelValue:t.keyword,"onUpdate:modelValue":e[0]||(e[0]=a=>t.keyword=a),placeholder:"\u641C\u7D22\u8054\u7CFB\u4EBA",shape:"round","clear-trigger":"always",lazy:""},null,8,["modelValue"]),d(b,{modelValue:t.refreshing,"onUpdate:modelValue":e[2]||(e[2]=a=>t.refreshing=a),onRefresh:t.onRefresh},{default:I(()=>[d(v,{loading:t.loading,"onUpdate:loading":e[1]||(e[1]=a=>t.loading=a),finished:t.finished,"finished-text":t.list.length>0?"\u6CA1\u6709\u66F4\u591A\u4E86":"",onLoad:t.onLoad},{default:I(()=>[o("ul",null,[(r(!0),_(T,null,j(t.list,(a,y)=>(r(),_("li",{class:"contactslist",key:y},[o("div",$,[d(l,{round:"",cover:"",width:"2.5rem",height:"2.5rem",src:`https://ui-avatars.com/api/?name=${a.name}&length=1&background=random&size=128&bold=true&color=ff0000`},null,8,["src"]),o("div",q,[o("span",null,C(a.name),1),o("p",null,C(a.phone_number),1)])]),o("div",H,[o("div",J,[o("a",{href:"tel:"+a.phone_number.replace(/\s+/g,"")},W,8,K),(r(),_("svg",{class:"icon sms","aria-hidden":"true",onClick:n=>t.sendSms(a.phone_number)},Z,8,X))])])]))),128))])]),_:1},8,["loading","finished","finished-text","onLoad"]),t.list.length<=0?(r(),R(g,{key:0,description:"\u6682\u65E0\u6570\u636E"})):U("",!0)]),_:1},8,["modelValue","onRefresh"])])}var at=V(M,[["render",tt],["__scopeId","data-v-5b51acc9"]]);const nt={name:"Contact",components:{Contacts:at},setup(){return{}}},et={id:"Contact"};function ot(i,e,h,t,f,p){const s=c("van-nav-bar"),l=c("Contacts",!0);return r(),_("div",et,[d(s,{title:"\u901A\u8BAF\u5F55"}),d(l)])}var dt=V(nt,[["render",ot],["__scopeId","data-v-ce0c2e30"]]);export{dt as default};
